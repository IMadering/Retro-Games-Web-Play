// Изменения внесённые в main.js для работы на сайте в iframe и загрузки ромов по внешним ссылкам.

1)  //this.setUpFileDrop(),

2)  setUpOpenRomLink() {
      const t = document.getElementById("rom-file");
      t.addEventListener("click", ()=>{
      // Загружаем ROM по URL
      var path = t.value;
      var req = new XMLHttpRequest();
      req.open('GET', path, true);
      req.overrideMimeType('text/plain; charset=x-user-defined');
      req.responseType = 'arraybuffer';
      var target = this;
      req.onerror = () => console.log(`Error loading ${path}: ${req.statusText}`);
      req.onload = function() {
        if (this.status === 200) {
          var srom = this.response;
          if (srom) {
            var byteArray = new Uint8Array(srom);
            //console.log(byteArray);
            target.createAppFromRom(byteArray, 'test', 0, 0);
          }
        } else if (this.status === 0) {
          // Aborted, so ignore error
        } else {
          req.onerror();
        }
      };
      req.send();
      }
      )
    }

3)  this.contentWidth = 2 * (p - 2 * m),
    this.contentHeight = 2 * (g - 2 * f),
    this.updateContentSize(this.contentWidth, this.contentHeight)),
    this.maximize() <---- добавить


4)  addResizeBox() {  <---- закомментить весь блок
    
    кроме строк:
    this.addTitleButton(this.titleBar, "maximize", ()=>{
      this.maximize()
    }
    );

5)  h.TITLEBAR_HEIGHT = 0,
    h.MENUBAR_HEIGHT = 0









